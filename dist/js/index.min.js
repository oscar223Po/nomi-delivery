import"./app.min.js";import{g as T,d as E,s as w,a as $,b as m,c as A,e as v,f as b,h as O}from"./controls.min.js";import"./quantity.min.js";function _(){const l=document.querySelectorAll("[data-fls-tabs]");let e=[];if(l.length>0){const i=T();i&&i.startsWith("tab-")&&(e=i.replace("tab-","").split("-")),l.forEach((o,r)=>{o.classList.add("--tab-init"),o.setAttribute("data-fls-tabs-index",r),o.addEventListener("click",c),s(o)});let n=E(l,"flsTabs");n&&n.length&&n.forEach(o=>{o.matchMedia.addEventListener("change",function(){t(o.itemsArray,o.matchMedia)}),t(o.itemsArray,o.matchMedia)})}function t(i,n){i.forEach(o=>{o=o.item;let r=o.querySelector("[data-fls-tabs-titles]"),d=o.querySelectorAll("[data-fls-tabs-title]"),f=o.querySelector("[data-fls-tabs-body]"),h=o.querySelectorAll("[data-fls-tabs-item]");d=Array.from(d).filter(u=>u.closest("[data-fls-tabs]")===o),h=Array.from(h).filter(u=>u.closest("[data-fls-tabs]")===o),h.forEach((u,p)=>{n.matches?(f.append(d[p]),f.append(u),o.classList.add("--tab-spoller")):(r.append(d[p]),o.classList.remove("--tab-spoller"))})})}function s(i){let n=i.querySelectorAll("[data-fls-tabs-titles]>*"),o=i.querySelectorAll("[data-fls-tabs-body]>*");const r=i.dataset.flsTabsIndex,d=e[0]==r;if(d){const f=i.querySelector("[data-fls-tabs-titles]>.--tab-active");f&&f.classList.remove("--tab-active")}o.length&&o.forEach((f,h)=>{n[h].setAttribute("data-fls-tabs-title",""),f.setAttribute("data-fls-tabs-item",""),d&&h==e[1]&&n[h].classList.add("--tab-active"),f.hidden=!n[h].classList.contains("--tab-active")})}function a(i){let n=i.querySelectorAll("[data-fls-tabs-title]"),o=i.querySelectorAll("[data-fls-tabs-item]");const r=i.dataset.flsTabsIndex;function d(h){if(h.hasAttribute("data-fls-tabs-animate"))return h.dataset.flsTabsAnimate>0?Number(h.dataset.flsTabsAnimate):500}const f=d(i);if(o.length>0){const h=i.hasAttribute("data-fls-tabs-hash");o=Array.from(o).filter(u=>u.closest("[data-fls-tabs]")===i),n=Array.from(n).filter(u=>u.closest("[data-fls-tabs]")===i),o.forEach((u,p)=>{n[p].classList.contains("--tab-active")?(f?w(u,f):u.hidden=!1,h&&!u.closest(".popup")&&$(`tab-${r}-${p}`)):f?m(u,f):u.hidden=!0})}}function c(i){const n=i.target;if(n.closest("[data-fls-tabs-title]")){const o=n.closest("[data-fls-tabs-title]"),r=o.closest("[data-fls-tabs]");if(!o.classList.contains("--tab-active")&&!r.querySelector(".--slide")){let d=r.querySelectorAll("[data-fls-tabs-title].--tab-active");d.length&&(d=Array.from(d).filter(f=>f.closest("[data-fls-tabs]")===r)),d.length&&d[0].classList.remove("--tab-active"),o.classList.add("--tab-active"),a(r)}i.preventDefault()}}}window.addEventListener("load",_);function x(){const l=document.querySelectorAll("[data-fls-spollers]");if(l.length>0){let e=function(n,o=!1){n.forEach(r=>{r=o?r.item:r,o.matches||!o?(r.classList.add("--spoller-init"),t(r)):(r.classList.remove("--spoller-init"),t(r,!1))})},t=function(n,o=!0){let r=n.querySelectorAll("details");r.length&&r.forEach(d=>{let f=d.querySelector("summary");o?(f.removeAttribute("tabindex"),d.hasAttribute("data-fls-spollers-open")?(f.classList.add("--spoller-active"),d.open=!0):(d.open=!1,f.nextElementSibling.hidden=!0)):(f.setAttribute("tabindex","-1"),f.classList.remove("--spoller-active"),d.open=!0,f.nextElementSibling.hidden=!1)})},s=function(n){const o=n.target;if(o.closest("summary")&&o.closest("[data-fls-spollers]")&&(n.preventDefault(),o.closest("[data-fls-spollers]").classList.contains("--spoller-init"))){const r=o.closest("summary"),d=r.closest("details"),f=r.closest("[data-fls-spollers]"),h=f.hasAttribute("data-fls-spollers-one"),u=d.hasAttribute("data-fls-spollers-scroll"),p=f.dataset.flsSpollersSpeed?parseInt(f.dataset.flsSpollersSpeed):500;if(!f.querySelectorAll(".--slide").length&&(h&&!d.open&&a(f),d.open?setTimeout(()=>{d.open=!1},p):d.open=!0,r.classList.toggle("--spoller-active"),A(r.nextElementSibling,p),u&&r.classList.contains("--spoller-active"))){const L=d.dataset.flsSpollersScroll,y=+L?+L:0,C=d.hasAttribute("data-fls-spollers-scroll-noheader")?document.querySelector(".header").offsetHeight:0;window.scrollTo({top:d.offsetTop-(y+C),behavior:"smooth"})}}if(!o.closest("[data-fls-spollers]")){const r=document.querySelectorAll("[data-fls-spollers-close]");r.length&&r.forEach(d=>{const f=d.closest("[data-fls-spollers]"),h=d.parentNode;if(f.classList.contains("--spoller-init")){const u=f.dataset.flsSpollersSpeed?parseInt(f.dataset.flsSpollersSpeed):500;d.classList.remove("--spoller-active"),m(d.nextElementSibling,u),setTimeout(()=>{h.open=!1},u)}})}},a=function(n){const o=n.querySelector("details[open]");if(o&&!n.querySelectorAll(".--slide").length){const r=o.querySelector("summary"),d=n.dataset.flsSpollersSpeed?parseInt(n.dataset.flsSpollersSpeed):500;r.classList.remove("--spoller-active"),m(r.nextElementSibling,d),setTimeout(()=>{o.open=!1},d)}};document.addEventListener("click",s);const c=Array.from(l).filter(function(n,o,r){return!n.dataset.flsSpollers.split(",")[0]});c.length&&e(c);let i=E(l,"flsSpollers");i&&i.length&&i.forEach(n=>{n.matchMedia.addEventListener("change",function(){e(n.itemsArray,n.matchMedia)}),e(n.itemsArray,n.matchMedia)})}}window.addEventListener("load",x);function H(){if(!document.querySelectorAll("[data-panel]").length)return;const e=[],t=a=>{const c=document.querySelector(`[data-panel="${a}"]`);c&&(c.classList.add("is-active"),e.push(c))},s=()=>{e.pop()?.classList.remove("is-active")};document.addEventListener("click",a=>{const c=a.target.closest("[data-open-panel]"),i=a.target.closest("[data-panel-close]");c&&t(c.dataset.openPanel),i&&s()})}function q(){document.addEventListener("click",function(l){v&&l.target.closest("[data-fls-menu]")&&(b(),document.documentElement.toggleAttribute("data-fls-menu-open"))})}window.addEventListener("load",()=>{q(),H()});function P(){document.addEventListener("click",function(l){v&&l.target.closest("[data-fls-info]")&&(b(),document.documentElement.toggleAttribute("data-fls-info-open"))})}window.addEventListener("load",()=>{P()});function D(){const l=document.querySelector("[data-fls-header-scroll]"),e=l.hasAttribute("data-fls-header-scroll-show"),t=l.dataset.flsHeaderScrollShow?l.dataset.flsHeaderScrollShow:500,s=l.dataset.flsHeaderScroll?l.dataset.flsHeaderScroll:1;let a=0,c;document.addEventListener("scroll",function(i){const n=window.scrollY;clearTimeout(c),n>=s?(l.classList.contains("--header-scroll")||l.classList.add("--header-scroll"),e&&(n>a?l.classList.contains("--header-show")&&l.classList.remove("--header-show"):l.classList.contains("--header-show")||l.classList.add("--header-show"),c=setTimeout(()=>{l.classList.contains("--header-show")||l.classList.add("--header-show")},t))):(l.classList.contains("--header-scroll")&&l.classList.remove("--header-scroll"),e&&l.classList.contains("--header-show")&&l.classList.remove("--header-show")),a=n<=0?0:n})}document.querySelector("[data-fls-header-scroll]")&&window.addEventListener("load",D);function k(){document.addEventListener("click",function(l){v&&l.target.closest("[data-fls-chat]")&&(b(),document.documentElement.toggleAttribute("data-fls-chat-open"))})}window.addEventListener("load",()=>{k()});let S={getErrors(l){let e=0,t=l.querySelectorAll("[required]");return t.length&&t.forEach(s=>{(s.offsetParent!==null||s.tagName==="SELECT")&&!s.disabled&&(e+=this.validateInput(s))}),e},validateInput(l){let e=0;return l.type==="email"?(l.value=l.value.replace(" ",""),this.emailTest(l)?(this.addError(l),this.removeSuccess(l),e++):(this.removeError(l),this.addSuccess(l))):l.type==="checkbox"&&!l.checked?(this.addError(l),this.removeSuccess(l),e++):l.value.trim()?(this.removeError(l),this.addSuccess(l)):(this.addError(l),this.removeSuccess(l),e++),e},addError(l){l.classList.add("--form-error"),l.parentElement.classList.add("--form-error");let e=l.parentElement.querySelector("[data-fls-form-error]");e&&l.parentElement.removeChild(e),l.dataset.flsFormErrtext&&l.parentElement.insertAdjacentHTML("beforeend",`<div data-fls-form-error>${l.dataset.flsFormErrtext}</div>`)},removeError(l){l.classList.remove("--form-error"),l.parentElement.classList.remove("--form-error"),l.parentElement.querySelector("[data-fls-form-error]")&&l.parentElement.removeChild(l.parentElement.querySelector("[data-fls-form-error]"))},addSuccess(l){l.classList.add("--form-success"),l.parentElement.classList.add("--form-success")},removeSuccess(l){l.classList.remove("--form-success"),l.parentElement.classList.remove("--form-success")},formClean(l){l.reset(),setTimeout(()=>{let e=l.querySelectorAll("input,textarea");for(let s=0;s<e.length;s++){const a=e[s];a.parentElement.classList.remove("--form-focus"),a.classList.remove("--form-focus"),S.removeError(a)}let t=l.querySelectorAll('input[type="checkbox"]');if(t.length&&t.forEach(s=>{s.checked=!1}),window.flsSelect){let s=l.querySelectorAll("select[data-fls-select]");s.length&&s.forEach(a=>{window.flsSelect.selectBuild(a)})}},0)},emailTest(l){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(l.value)}};class V{constructor(e,t=null){let s={init:!0,speed:150};if(this.config=Object.assign(s,e),this.selectClasses={classSelect:"select",classSelectBody:"select__body",classSelectTitle:"select__title",classSelectValue:"select__value",classSelectLabel:"select__label",classSelectInput:"select__input",classSelectText:"select__text",classSelectLink:"select__link",classSelectOptions:"select__options",classSelectOptionsScroll:"select__scroll",classSelectOption:"select__option",classSelectContent:"select__content",classSelectRow:"select__row",classSelectData:"select__asset",classSelectDisabled:"--select-disabled",classSelectTag:"--select-tag",classSelectOpen:"--select-open",classSelectActive:"--select-active",classSelectFocus:"--select-focus",classSelectMultiple:"--select-multiple",classSelectCheckBox:"--select-checkbox",classSelectOptionSelected:"--select-selected",classSelectPseudoLabel:"--select-pseudo-label"},this._this=this,this.config.init){const a=t?document.querySelectorAll(t):document.querySelectorAll("select[data-fls-select]");a.length&&this.selectsInit(a)}}getSelectClass(e){return`.${e}`}getSelectElement(e,t){return{originalSelect:e.querySelector("select"),selectElement:e.querySelector(this.getSelectClass(t))}}selectsInit(e){e.forEach((t,s)=>{this.selectInit(t,s+1)}),document.addEventListener("click",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("keydown",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("focusin",(function(t){this.selectsActions(t)}).bind(this)),document.addEventListener("focusout",(function(t){this.selectsActions(t)}).bind(this))}selectInit(e,t){if(t&&(e.dataset.flsSelectId=t),e.options.length){const s=this;let a=document.createElement("div");a.classList.add(this.selectClasses.classSelect),e.parentNode.insertBefore(a,e),a.appendChild(e),e.hidden=!0,this.getSelectPlaceholder(e)&&(e.dataset.placeholder=this.getSelectPlaceholder(e).value,this.getSelectPlaceholder(e).label.show&&this.getSelectElement(a,this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin",`<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text?this.getSelectPlaceholder(e).label.text:this.getSelectPlaceholder(e).value}</span>`)),a.insertAdjacentHTML("beforeend",`<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`),this.selectBuild(e),e.dataset.flsSelectSpeed=e.dataset.flsSelectSpeed?e.dataset.flsSelectSpeed:this.config.speed,this.config.speed=+e.dataset.flsSelectSpeed,e.addEventListener("change",function(c){s.selectChange(c)})}}selectBuild(e){const t=e.parentElement;e.id&&(t.id=e.id,e.removeAttribute("id")),t.dataset.flsSelectId=e.dataset.flsSelectId,e.dataset.flsSelectModif&&t.classList.add(`select--${e.dataset.flsSelectModif}`),e.multiple?t.classList.add(this.selectClasses.classSelectMultiple):t.classList.remove(this.selectClasses.classSelectMultiple),e.hasAttribute("data-fls-select-checkbox")&&e.multiple?t.classList.add(this.selectClasses.classSelectCheckBox):t.classList.remove(this.selectClasses.classSelectCheckBox),this.setSelectTitleValue(t,e),this.setOptions(t,e),e.hasAttribute("data-fls-select-search")&&this.searchActions(t),e.hasAttribute("data-fls-select-open")&&this.selectAction(t),this.selectDisabled(t,e)}selectsActions(e){const t=e.target,s=e.type,a=t.closest(this.getSelectClass(this.selectClasses.classSelect)),c=t.closest(this.getSelectClass(this.selectClasses.classSelectTag));if(!a&&!c)return this.selects\u0421lose();const i=a||document.querySelector(`.${this.selectClasses.classSelect}[data-fls-select-id="${c.dataset.flsSelectId}"]`),n=this.getSelectElement(i).originalSelect;if(!n.disabled)if(s==="click"){const o=t.closest(this.getSelectClass(this.selectClasses.classSelectTag)),r=t.closest(this.getSelectClass(this.selectClasses.classSelectTitle)),d=t.closest(this.getSelectClass(this.selectClasses.classSelectOption));if(o){const f=document.querySelector(`.${this.selectClasses.classSelect}[data-fls-select-id="${o.dataset.flsSelectId}"] .select__option[data-fls-select-value="${o.dataset.flsSelectValue}"]`);this.optionAction(i,n,f)}else r?this.selectAction(i):d&&this.optionAction(i,n,d)}else s==="focusin"||s==="focusout"?a&&i.classList.toggle(this.selectClasses.classSelectFocus,s==="focusin"):s==="keydown"&&e.code==="Escape"&&this.selects\u0421lose()}selects\u0421lose(e){const s=(e||document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);s.length&&s.forEach(a=>{this.select\u0421lose(a)})}select\u0421lose(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.classList.contains("_slide")||(e.classList.remove(this.selectClasses.classSelectOpen),m(s,t.dataset.flsSelectSpeed),setTimeout(()=>{e.style.zIndex=""},t.dataset.flsSelectSpeed))}selectAction(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.querySelectorAll(`.${this.selectClasses.classSelectOption}`);const a=t.dataset.flsSelectZIndex?t.dataset.flsSelectZIndex:3;if(this.setOptionsPosition(e),t.closest("[data-fls-select-one]")){const c=t.closest("[data-fls-select-one]");this.selects\u0421lose(c)}setTimeout(()=>{s.classList.contains("--slide")||(e.classList.toggle(this.selectClasses.classSelectOpen),A(s,t.dataset.flsSelectSpeed),e.classList.contains(this.selectClasses.classSelectOpen)?e.style.zIndex=a:setTimeout(()=>{e.style.zIndex=""},t.dataset.flsSelectSpeed))},0)}setSelectTitleValue(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectBody).selectElement,a=this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement;a&&a.remove(),s.insertAdjacentHTML("afterbegin",this.getSelectTitleValue(e,t)),t.hasAttribute("data-fls-select-search")&&this.searchActions(e)}getSelectTitleValue(e,t){let s=this.getSelectedOptionsData(t,2).html;t.multiple&&t.hasAttribute("data-fls-select-tags")&&(s=this.getSelectedOptionsData(t).elements.map(i=>`<span role="button" data-fls-select-id="${e.dataset.flsSelectId}" data-fls-select-value="${i.value}" class="--select-tag">${this.getSelectElementContent(i)}</span>`).join(""),t.dataset.flsSelectTags&&document.querySelector(t.dataset.flsSelectTags)&&(document.querySelector(t.dataset.flsSelectTags).innerHTML=s,t.hasAttribute("data-fls-select-search")&&(s=!1))),s=s.length?s:t.dataset.flsSelectPlaceholder||"",t.hasAttribute("data-fls-select-tags")||(s=s?s.map(i=>i.replace(/"/g,"&quot;")):"");let a="",c="";if(t.hasAttribute("data-fls-select-pseudo-label")&&(a=t.dataset.flsSelectPseudoLabel?` data-fls-select-pseudo-label="${t.dataset.flsSelectPseudoLabel}"`:' data-fls-select-pseudo-label="\u0417\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0430\u0442\u0440\u0438\u0431\u0443\u0442"',c=` ${this.selectClasses.classSelectPseudoLabel}`),this.getSelectedOptionsData(t).values.length?e.classList.add(this.selectClasses.classSelectActive):e.classList.remove(this.selectClasses.classSelectActive),t.hasAttribute("data-fls-select-search"))return`<div class="${this.selectClasses.classSelectTitle}"><span${a} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${s}" data-fls-select-placeholder="${s}" class="${this.selectClasses.classSelectInput}"></span></div>`;{const i=this.getSelectedOptionsData(t).elements.length&&this.getSelectedOptionsData(t).elements[0].dataset.flsSelectClass?` ${this.getSelectedOptionsData(t).elements[0].dataset.flsSelectClass}`:"";return`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${a} class="${this.selectClasses.classSelectValue}${c}"><span class="${this.selectClasses.classSelectContent}${i}">${s}</span></span></button>`}}getSelectElementContent(e){const t=e.dataset.flsSelectAsset?`${e.dataset.flsSelectAsset}`:"",s=t.indexOf("img")>=0?`<img src="${t}" alt="">`:t;let a="";return a+=t?`<span class="${this.selectClasses.classSelectRow}">`:"",a+=t?`<span class="${this.selectClasses.classSelectData}">`:"",a+=t?s:"",a+=t?"</span>":"",a+=t?`<span class="${this.selectClasses.classSelectText}">`:"",a+=e.textContent,a+=t?"</span>":"",a+=t?"</span>":"",a}getSelectPlaceholder(e){const t=Array.from(e.options).find(s=>!s.value);if(t)return{value:t.textContent,show:t.hasAttribute("data-fls-select-show"),label:{show:t.hasAttribute("data-fls-select-label"),text:t.dataset.flsSelectLabel}}}getSelectedOptionsData(e,t){let s=[];return e.multiple?s=Array.from(e.options).filter(a=>a.value).filter(a=>a.selected):s.push(e.options[e.selectedIndex]),{elements:s.map(a=>a),values:s.filter(a=>a.value).map(a=>a.value),html:s.map(a=>this.getSelectElementContent(a))}}getOptions(e){const t=(e.hasAttribute("data-fls-select-scroll"),"");+e.dataset.flsSelectScroll&&+e.dataset.flsSelectScroll;let s=Array.from(e.options);if(s.length>0){let a="";return(this.getSelectPlaceholder(e)&&!this.getSelectPlaceholder(e).show||e.multiple)&&(s=s.filter(c=>c.value)),a+=`<div ${t}  class="${this.selectClasses.classSelectOptionsScroll}">`,s.forEach(c=>{a+=this.getOption(c,e)}),a+="</div>",a}}getOption(e,t){const s=e.selected&&t.multiple?` ${this.selectClasses.classSelectOptionSelected}`:"",a=e.selected&&!t.hasAttribute("data-fls-select-show-selected")&&!t.multiple?"hidden":"",c=e.dataset.flsSelectClass?` ${e.dataset.flsSelectClass}`:"",i=e.dataset.flsSelectHref?e.dataset.flsSelectHref:!1,n=e.hasAttribute("data-fls-select-href-blank")?'target="_blank"':"";let o="";return o+=i?`<a ${n} ${a} href="${i}" data-fls-select-value="${e.value}" class="${this.selectClasses.classSelectOption}${c}${s}">`:`<button ${a} class="${this.selectClasses.classSelectOption}${c}${s}" data-fls-select-value="${e.value}" type="button">`,o+=this.getSelectElementContent(e),o+=i?"</a>":"</button>",o}setOptions(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.innerHTML=this.getOptions(t)}setOptionsPosition(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,a=this.getSelectElement(e,this.selectClasses.classSelectOptionsScroll).selectElement,c=+t.dataset.flsSelectScroll?`${+t.dataset.flsSelectScroll}px`:"",i=+t.dataset.flsSelectOptionsMargin?+t.dataset.flsSelectOptionsMargin:10;if(e.classList.contains(this.selectClasses.classSelectOpen))setTimeout(()=>{e.classList.remove("select--show-top"),a.style.maxHeight=c},+t.dataset.flsSelectSpeed);else{s.hidden=!1;const n=a.offsetHeight?a.offsetHeight:parseInt(window.getComputedStyle(a).getPropertyValue("max-height")),o=s.offsetHeight>n?s.offsetHeight:n+s.offsetHeight,r=o-n;s.hidden=!0;const d=e.offsetHeight,f=e.getBoundingClientRect().top,h=f+o+d+r,u=window.innerHeight-(h+i);if(u<0){const p=o+u;p<100?(e.classList.add("select--show-top"),a.style.maxHeight=f<o?`${f-(o-f)}px`:c):(e.classList.remove("select--show-top"),a.style.maxHeight=`${p}px`)}}}optionAction(e,t,s){if(!e.querySelector(this.getSelectClass(this.selectClasses.classSelectOptions)).classList.contains("--slide")){if(t.multiple){s.classList.toggle(this.selectClasses.classSelectOptionSelected);const c=this.getSelectedOptionsData(t).elements;for(const n of c)n.removeAttribute("selected");const i=e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected));for(const n of i){const o=n.dataset.flsSelectValue,r=t.querySelector(`option[value="${o}"]`);r&&r.setAttribute("selected","selected")}}else t.hasAttribute("data-fls-select-show-selected")||setTimeout(()=>{const c=e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`);c&&(c.hidden=!1),s.hidden=!0},this.config.speed),t.value=s.dataset.flsSelectValue||s.textContent,this.selectAction(e);this.setSelectTitleValue(e,t),this.setSelectChange(t)}}selectChange(e){const t=e.target;this.selectBuild(t),this.setSelectChange(t)}setSelectChange(e){if(e.hasAttribute("data-fls-select-validate")&&S.validateInput(e),e.hasAttribute("data-fls-select-submit")&&e.value){let s=document.createElement("button");s.type="submit",e.closest("form").append(s),s.click(),s.remove()}const t=e.parentElement;this.selectCallback(t,e)}selectDisabled(e,t){t.disabled?(e.classList.add(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!0):(e.classList.remove(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!1)}searchActions(e){const t=this.getSelectElement(e,this.selectClasses.classSelectInput).selectElement,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;t.addEventListener("input",()=>{const a=t.value.toLowerCase();s.querySelectorAll(`.${this.selectClasses.classSelectOption}`).forEach(i=>{const n=i.textContent.toLowerCase();i.hidden=!n.includes(a)}),s.hidden&&this.selectAction(e)})}selectCallback(e,t){document.dispatchEvent(new CustomEvent("selectCallback",{detail:{select:t}}))}}document.querySelector("select[data-fls-select]")&&window.addEventListener("load",()=>window.flsSelect=new V({}));function M(){function l(){const t=document.forms;if(t.length)for(const c of t)c.hasAttribute("data-fls-form-novalidate")||c.setAttribute("novalidate",!0),c.addEventListener("submit",function(i){const n=i.target;s(n,i)}),c.addEventListener("reset",function(i){const n=i.target;S.formClean(n)});async function s(c,i){if(S.getErrors(c)===0)if(c.dataset.flsForm==="ajax"){i.preventDefault();const o=c.getAttribute("action")?c.getAttribute("action").trim():"#",r=c.getAttribute("method")?c.getAttribute("method").trim():"GET",d=new FormData(c);c.classList.add("--sending");const f=await fetch(o,{method:r,body:d});if(f.ok){let h=await f.json();c.classList.remove("--sending"),a(c,h)}else c.classList.remove("--sending")}else c.dataset.flsForm==="dev"&&(i.preventDefault(),a(c));else if(i.preventDefault(),c.querySelector(".--form-error")&&c.hasAttribute("data-fls-form-gotoerr")){const o=c.dataset.flsFormGotoerr?c.dataset.flsFormGotoerr:".--form-error";O(o)}}function a(c,i=""){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:c}})),setTimeout(()=>{if(window.flsPopup){const n=c.dataset.flsFormPopup;n&&window.flsPopup.open(n)}},0),S.formClean(c)}}function e(){document.body.addEventListener("focusin",function(t){const s=t.target;(s.tagName==="INPUT"||s.tagName==="TEXTAREA")&&(s.hasAttribute("data-fls-form-nofocus")||(s.classList.add("--form-focus"),s.parentElement.classList.add("--form-focus")),s.hasAttribute("data-fls-form-validatenow")&&S.removeError(s))}),document.body.addEventListener("focusout",function(t){const s=t.target;(s.tagName==="INPUT"||s.tagName==="TEXTAREA")&&(s.hasAttribute("data-fls-form-nofocus")||(s.classList.remove("--form-focus"),s.parentElement.classList.remove("--form-focus")),s.hasAttribute("data-fls-form-validatenow")&&S.validateInput(s))})}l(),e()}document.querySelector("[data-fls-form]")&&window.addEventListener("load",M);const g=document.querySelector(".leader-hero__actions");g!==null&&g.addEventListener("click",l=>{const e=l.target.closest(".leader-hero__action");e&&(g.querySelector(".leader-hero__action--active")?.classList.remove("leader-hero__action--active"),e.classList.add("leader-hero__action--active"))}),document.addEventListener("click",l=>{const e=l.target.closest("[data-fls-portion]");if(!e)return;const t=e.querySelector(".portion__body"),s=e.querySelector(".portion__button"),a=e.querySelector("[data-fls-quantity-prt]"),c=a.querySelector("[data-fls-quantity-value-prt]"),i=e.querySelector("[data-fls-quantity-minus-prt]"),n=e.querySelector("[data-fls-quantity-plus-prt]");if(l.target===s){c.value=1,a.classList.remove("quantity-portion--hidden"),s.classList.add("hidden"),t.classList.add("portion__body--active");return}if(l.target===n){c.value=Number(c.value)+1,t.classList.add("portion__body--active");return}if(l.target===i){const o=Number(c.value)-1;o<=0?(c.value=0,a.classList.add("quantity-portion--hidden"),s.classList.remove("hidden"),t.classList.remove("portion__body--active")):c.value=o}});
